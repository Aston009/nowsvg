(this.webpackJsonprectangle=this.webpackJsonprectangle||[]).push([[0],{13:function(e,t,_){"use strict";var a=_(0),r=_.n(a);t.a=function(e){var t=e.onClose,_=e.onSubmit,a=e.header,n=e.form;return r.a.createElement("div",{className:"modal"},r.a.createElement("button",{onClick:t,className:"close"},"\xd7"),r.a.createElement("form",null,r.a.createElement("h2",null,a,":"),n,r.a.createElement("button",{onClick:function(e){_(e),t()},type:"button",className:"submit"},"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c")))}},19:function(module,__webpack_exports__,__webpack_require__){"use strict";var C_Users_Acer_pc_Desktop_Rectangle_final_rectangle_svgjs_client_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(23),C_Users_Acer_pc_Desktop_Rectangle_final_rectangle_svgjs_client_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),_styles_css__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(38),_styles_css__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_styles_css__WEBPACK_IMPORTED_MODULE_3__),_components_Colors__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(20),_components_Modal__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(13),_imgs_plus_svg__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(21),_imgs_plus_svg__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_imgs_plus_svg__WEBPACK_IMPORTED_MODULE_6__),_d3__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(9),d3__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1),_config__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2);function App(){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)([0,_config__WEBPACK_IMPORTED_MODULE_9__.a.length]),_useState2=Object(C_Users_Acer_pc_Desktop_Rectangle_final_rectangle_svgjs_client_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState,2),colors=_useState2[0],setColors=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(!0),_useState4=Object(C_Users_Acer_pc_Desktop_Rectangle_final_rectangle_svgjs_client_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState3,2),isRectsModalOpen=_useState4[0],setIsRectsModalOpen=_useState4[1],_useState5=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),_useState6=Object(C_Users_Acer_pc_Desktop_Rectangle_final_rectangle_svgjs_client_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState5,2),isGradientModalOpen=_useState6[0],setIsGradientModalOpen=_useState6[1],_useState7=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),_useState8=Object(C_Users_Acer_pc_Desktop_Rectangle_final_rectangle_svgjs_client_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState7,2),isMousePressed=_useState8[0],setIsMousePressed=_useState8[1],_useState9=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)([0,0]),_useState10=Object(C_Users_Acer_pc_Desktop_Rectangle_final_rectangle_svgjs_client_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState9,2),countRects=_useState10[0],setCountRects=_useState10[1],_useState11=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)("bottom-right"),_useState12=Object(C_Users_Acer_pc_Desktop_Rectangle_final_rectangle_svgjs_client_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState11,2),gradientDirection=_useState12[0],setGradientDirection=_useState12[1],_useState13=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),_useState14=Object(C_Users_Acer_pc_Desktop_Rectangle_final_rectangle_svgjs_client_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState13,2),isOverlayOpen=_useState14[0],setIsOverlayOpen=_useState14[1],_useState15=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(null),_useState16=Object(C_Users_Acer_pc_Desktop_Rectangle_final_rectangle_svgjs_client_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState15,2),scales=_useState16[0],setScales=_useState16[1],colorsChange=function(e,t,_){setColors([e,t]),Object(_d3__WEBPACK_IMPORTED_MODULE_7__.a)(_config__WEBPACK_IMPORTED_MODULE_9__.a.slice(e,t),gradientDirection)},onRectsSubmit=function(e){e.preventDefault(),setIsOverlayOpen(!0);var t=new FormData(e.target.parentNode);setCountRects([parseInt(t.get("horizontal")),parseInt(t.get("vertical"))])},onGradientDirectionSubmit=function(e){e.preventDefault();var t=new FormData(e.target.parentNode);setGradientDirection(t.get("direction")),Object(_d3__WEBPACK_IMPORTED_MODULE_7__.a)(_config__WEBPACK_IMPORTED_MODULE_9__.a.slice(colors[0],colors[1]),t.get("direction"))};return Object(react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((function(){setScales(Object(_d3__WEBPACK_IMPORTED_MODULE_7__.b)()),fetch("",{method:"POST",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(res){eval(res)})).catch((function(e){return console.error(e)}))}),[]),Object(react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((function(){if(scales&&scales.length){var e=document.getElementById("canvas").getBoundingClientRect(),t=d3__WEBPACK_IMPORTED_MODULE_8__.c().on("end",(function(){var t,_=scales[0].invert(d3__WEBPACK_IMPORTED_MODULE_8__.d.subject.x)-40-(window.prevZoom&&window.prevZoom.transform.x||0),a=e.height-60-scales[1].invert(d3__WEBPACK_IMPORTED_MODULE_8__.d.subject.y)-(window.prevZoom&&window.prevZoom.transform.y||0),r="rect"+Date.now();d3__WEBPACK_IMPORTED_MODULE_8__.f("#rectsG").append("g").attr("id",r).attr("class","rect"),setIsOverlayOpen(!1),(t=window).draw.apply(t,Object(C_Users_Acer_pc_Desktop_Rectangle_final_rectangle_svgjs_client_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(countRects).concat([_,a,(d3__WEBPACK_IMPORTED_MODULE_8__.d.x-d3__WEBPACK_IMPORTED_MODULE_8__.d.subject.x)/(window.prevZoom&&window.prevZoom.transform.k||1),(d3__WEBPACK_IMPORTED_MODULE_8__.d.y-d3__WEBPACK_IMPORTED_MODULE_8__.d.subject.y)/(window.prevZoom&&window.prevZoom.transform.k||1),_config__WEBPACK_IMPORTED_MODULE_9__.a.slice(colors[0],colors[1]),r,gradientDirection]))}));d3__WEBPACK_IMPORTED_MODULE_8__.f("#overlay").call(t)}}),[scales,countRects,gradientDirection]),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("main",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button",{onClick:function(){return setIsRectsModalOpen(!0)},className:"edit"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("img",{src:_imgs_plus_svg__WEBPACK_IMPORTED_MODULE_6___default.a,alt:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})),isRectsModalOpen&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Modal__WEBPACK_IMPORTED_MODULE_5__.a,{onClose:function(){return setIsRectsModalOpen(!1)},onSubmit:onRectsSubmit,header:"\u0421\u0435\u0442\u043a\u0430",form:react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("ul",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("label",{htmlFor:"horizontal"},"\u041f\u043e \u0433\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u0438"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input",{type:"number",placeholder:"2",id:"horizontal",min:"1",name:"horizontal"})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("label",{htmlFor:"vertical"},"\u041f\u043e \u0432\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u0438"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input",{type:"number",placeholder:"2",id:"vertical",min:"1",name:"vertical"})))}),isGradientModalOpen&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Modal__WEBPACK_IMPORTED_MODULE_5__.a,{onClose:function(){return setIsGradientModalOpen(!1)},onSubmit:onGradientDirectionSubmit,header:"\u0412\u044b\u0431\u043e\u0440 \u0444\u0443\u043d\u043a\u0446\u0438\u0438",form:react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("ul",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input",{type:"radio",id:"bottom-right",name:"direction",value:"bottom-right",defaultChecked:"bottom-right"===gradientDirection}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("label",{for:"huey"},"-x+y")),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input",{type:"radio",id:"top-right",name:"direction",value:"top-right",defaultChecked:"top-right"===gradientDirection}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("label",{for:"huey"},"-x-y")),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input",{type:"radio",id:"top-left",name:"direction",value:"top-left",defaultChecked:"top-left"===gradientDirection}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("label",{for:"huey"},"x-y")),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input",{type:"radio",id:"bottom-left",name:"direction",value:"bottom-left",defaultChecked:"bottom-left"===gradientDirection}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("label",{for:"huey"},"x+y")),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input",{type:"radio",id:"center",name:"direction",value:"center",defaultChecked:"center"===gradientDirection}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("label",{for:"huey"},"x",react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("sup",null,"2"),"+y",react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("sup",null,"2"))))}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"wrapper"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{id:"overlay",style:{display:isOverlayOpen?"block":"none"}}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"canvas",id:"canvas"})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_Colors__WEBPACK_IMPORTED_MODULE_4__.a,{onChange:colorsChange,top:colors[0],bottom:colors[1],openGradientModal:function(){return setIsGradientModalOpen(!0)}}))}__webpack_exports__.a=App},2:function(e,t,_){"use strict";_.d(t,"a",(function(){return a}));var a=[{color:"#ff6364",text:"+9.6032e+0"},{color:"#ffa868",text:"+7.5794e+0"},{color:"#ffe672",text:"+6.7857e+0"},{color:"#d3ff84",text:"+5.8333e+0"},{color:"#96ff96",text:"+5.0000e+0"},{color:"#96ffd4",text:"+4.1667e+0"},{color:"#8ef3ff",text:"+3.2143e+0"},{color:"#7dd1ff",text:"+2.4206e+0"},{color:"#6999ff",text:"+1.5476e+0"},{color:"#5455ff",text:"+3.9683e-1"}]},20:function(e,t,_){"use strict";var a=_(0),r=_.n(a),n=_(2);t.a=function(e){var t=e.onChange,_=e.top,a=e.bottom,o=e.openGradientModal,l=function(e,r,o){var l,c,s=document.getElementById("colors").getBoundingClientRect().y;"top"===e?(l=Math.min(Math.round((r.pageY-s)/50),a-1),t(l<0?0:l,a,o)):(c=Math.max(Math.round((r.pageY-s)/50),_+1),t(_,c>n.a.length-1?n.a.length:c,o))};return r.a.createElement("div",{className:"colors",id:"colors"},r.a.createElement("button",{onClick:o},"\u0424\u0443\u043d\u043a\u0446\u0438\u044f"),r.a.createElement("h6",null,"Temperature"),r.a.createElement("div",{className:"hr top",draggable:"true",onDrag:function(e){return l("top",e)},onDragEnd:function(e){return l("top",e,!0)},style:{top:50*_}}),n.a.map((function(e,t){return r.a.createElement("div",{className:"color-item",style:{backgroundColor:e.color},id:t,key:t},r.a.createElement("span",null,e.text))})),r.a.createElement("div",{className:"hr bottom",draggable:"true",onDrag:function(e){return l("bottom",e)},onDragEnd:function(e){return l("bottom",e,!0)},style:{top:50*a}}))}},21:function(e,t,_){e.exports=_.p+"static/media/plus.cdc95f38.svg"},33:function(e,t,_){e.exports=_(40)},38:function(e,t,_){},40:function(e,t,_){"use strict";_.r(t);var a=_(0),r=_.n(a),n=_(18),o=_.n(n),l=_(19);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(l.a,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,_){"use strict";_.d(t,"b",(function(){return l})),_.d(t,"a",(function(){return c}));var a=_(24),r=_(1),n=_(22);window.draw=function(e,t,_,a,o,l,c,s,i){var E=_/(window.prevZoom&&window.prevZoom.transform.k||1),d=a/(window.prevZoom&&window.prevZoom.transform.k||1);document.getElementById(s).innerHTML="";var u=Object(n.a)("#".concat(s)).group().attr("id","mainG");window.addGradient(r.f("#".concat(s)).select("#mainG").append("defs"),i,c),u.rect().attr("x",E).attr("y",d).attr("width",o).attr("height",l).attr("stroke-width",2).attr("stroke","black").attr("fill","url(#gradient)");for(var O=o/e,D=[],p=O;Math.round(p)<Math.round(o);p+=O)D.push(p),u.line().attr("x1",p+E).attr("y1",0+d).attr("x2",p+E).attr("y2",l+d).attr("stroke-width",2).attr("stroke","black");D.push(o);for(var m=l/t,M=[],f=m;Math.round(f)<Math.round(l);f+=m)M.push(f),u.line().attr("x1",0+E).attr("y1",f+d).attr("x2",o+E).attr("y2",f+d).attr("stroke-width",2).attr("stroke","black");M.push(l);for(var P=[[0,0,0,0]],g=0;g<D.length+M.length-1;g++){var h=void 0,C=void 0,b=void 0,R=void 0;g<=D.length-1?(h=D[g],b=0):(h=o,b=(g-D.length+1)*m),g<=M.length-1?(R=M[g],C=0):(R=l,C=(g-M.length+1)*O),P.push([h,b,C,R]),u.line().attr("x1",h+E).attr("y1",b+d).attr("x2",C+E).attr("y2",R+d).attr("stroke-width",2).attr("stroke","black")}for(var v=0;v<D.length+M.length-1;v++){var A=void 0,I=void 0,T=void 0,U=void 0;v<D.length-1?(A=D[v],T=0):(A=o,T=(v-D.length+1)*m),v<=M.length-1?(U=M[v],I=0):(U=l,I=(v-M.length+1)*O),u.line().attr("x1",A+E).attr("y1",T+d).attr("x2",I+E).attr("y2",U+d).attr("stroke-width",2).attr("stroke","black")}for(var B=0;B<D.length+M.length;B++){var W=void 0,L=void 0,K=void 0,y=void 0;B<D.length-1?(W=D[D.length-2-B],K=0):(W=0,K=(B-D.length+1)*m),B<=M.length-1?(y=M[B],L=o):(y=l,L=o-(B-M.length+1)*O),u.line().attr("x1",W+E).attr("y1",K+d).attr("x2",L+E).attr("y2",y+d).attr("stroke-width",2).attr("stroke","black")}},window.addGradient=function(e,t,_){var a;"bottom-right"===t?a=e.append("linearGradient").attr("id","gradient").attr("x1","0%").attr("y1","0%").attr("x2","100%").attr("y2","100%"):"bottom-left"===t?a=e.append("linearGradient").attr("id","gradient").attr("x1","100%").attr("y1","0%").attr("x2","0%").attr("y2","100%"):"top-right"===t?a=e.append("linearGradient").attr("id","gradient").attr("x1","0%").attr("y1","100%").attr("x2","100%").attr("y2","0%"):"top-left"===t?a=e.append("linearGradient").attr("id","gradient").attr("x1","100%").attr("y1","100%").attr("x2","0%").attr("y2","0%"):"center"===t&&(a=e.append("radialGradient").attr("id","gradient")),_.reverse().forEach((function(e,t){return a.append("stop").attr("offset",100/_.length*(t+1)+"%").attr("stop-color",e.color).attr("stop-opacity",1)}))};var o=function(e){for(var t="",_=String(e),a=_.length-1;a>=0;a--)t=((_.length-a)%3===0?" ":"")+_[a]+t;return t},l=function(){var e=document.getElementById("canvas").getBoundingClientRect(),t=0,_=0,n=30,l=40,c=e.width-l-_,s=e.height+10-t-n,i=r.f("#canvas").append("svg").attr("width",c+l+_).attr("height",s+t+n).append("g").attr("transform","translate("+l+","+t+")"),E=r.e().range([s,0]).domain([0,s]),d=r.e().range([0,c]).domain([0,c]),u=r.b(E).tickSize(-e.width).ticks(5).tickFormat(o),O=i.append("g").call(u),D=r.a(d).tickSize(-e.height).ticks(10).tickFormat(o),p=i.append("g").attr("transform","translate(0, ".concat(s,")")).call(D);i.append("text").text("Y").attr("x",0-l).attr("y",s/2),i.append("text").text("X").attr("x",c/2).attr("y",s+n).style("text-anchor","middle"),r.f("#canvas").append("svg").attr("id","rects").append("g").attr("id","rectsG"),r.f("#rects").attr("clip-path","url(#clip)").append("defs").append("clipPath").attr("transform","translate(40, 0)").attr("id","clip").append("rect").attr("width",c).attr("height",s);var m=r.h().scaleExtent([.1,30]).translateExtent([[-50*c,-50*s],[50*c,50*s]]).on("zoom",(function(){r.f("#rectsG").attr("transform",r.d.transform),p.call(D.scale(r.d.transform.rescaleX(d))),O.call(u.scale(r.d.transform.rescaleY(E))),window.prevZoom=Object(a.a)({},r.d)}));return r.f("#rects").call(m),[d,E]},c=function(e,t){var _=r.g("#mainG defs");_.select("#gradient").remove(),window.addGradient(_,t,e)}}},[[33,1,2]]]);
//# sourceMappingURL=main.384e6b32.chunk.js.map